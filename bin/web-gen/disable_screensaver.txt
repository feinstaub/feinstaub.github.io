#!/bin/bash

# http://unix.stackexchange.com/questions/76717/bash-launch-background-process-and-check-when-it-ends
# disable-scr-impl must be in $PATH
disable-scr-impl &
PROC_ID=$!

# https://techbase.kde.org/Development/Tutorials/Shell_Scripting_with_KDE_Dialogs#Example_8._Information_level_message_box
kdialog --msgbox "The screensaver / screenlocker is now temporarily disabled as long as this message box is kept open.\n\nPress OK to enable the screensaver again."

echo "kill loop"
kill $PROC_ID
echo "done"