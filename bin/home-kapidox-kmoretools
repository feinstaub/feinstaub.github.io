#!/bin/bash

# see http://api.kde.org/frameworks-api/frameworks5-apidocs/kapidox/html/
# $ sudo zypper install kapidox
# $ kgenapidox ./frameworks/knewstuff/

#
# HELP with kapidox:
#
# see http://api.kde.org/frameworks-api/frameworks5-apidocs/kapidox/html/
# see ~/dev/src/tikzkit/src/ui/include/Document.h
# ...
#

# http://unix.stackexchange.com/questions/101139/how-to-have-a-bash-script-perform-a-specific-action-on-errors-of-each-command
trap 'kdialog --msgbox "Some error occured"; exit 1' ERR

TARGET_DIR=~/tmp/doc-knewstuff
mkdir -p $TARGET_DIR
cd $TARGET_DIR

echo "kgenapidox ~/dev/kf5/src/frameworks/knewstuff/"
kgenapidox ~/dev/kf5/src/frameworks/knewstuff/

# run it under strace to see what IMAGE_PATH is using or requirering
# $ strace -o strace1.txt kgenapidox ~/dev/kf5/src/frameworks/knewstuff/
# see strace1.txt:
#   ...
#   stat("/home/gregor/dev/kf5/src/frameworks/knewstuff/docs/pics"...
#   ...

# echo "open doxygen-warnings.logs with kate"
# kate $TARGET_DIR/apidocs/doxygen-warnings.log &

# firefox $TARGET_DIR/apidocs/html/index.html
echo "firefox $TARGET_DIR/apidocs/html/annotated.html"
firefox $TARGET_DIR/apidocs/html/annotated.html
